# タスク一覧

## 目的
- 実装を進めるための最小タスク群を管理する
- 仕様・設計の更新に合わせて見直す

## ステータス

### Todo
- UI実装（Rabbit-TEA）
  - タイトル画面を実装する
  - ゲーム画面を実装する（問題文、入力、進捗、スコア）
  - 結果画面を実装する（成績、リトライ導線）
  - 画面遷移と状態管理を接続する
  - タイピング表示の基準位置を中央固定で揃える
- 体験向上・品質
  - キー入力の取りこぼし対策とフォーカス維持を実装する
  - 目に優しいレイアウトと配色を調整する
  - 主要ロジックのテストを追加する
  - 簡易プロファイルと体感遅延の確認を行う
- 仕上げ
  - READMEの遊び方と起動手順を更新する
  - リリース前のチェックリストを作る

### In Progress
- UI実装（Rabbit-TEA）
  - タイピング画面の入力受付（クリックで開始/受付中表示/キー入力）を実装する

### Done
- 仕様・設計の更新
  - Rabbit-TEA採用をdocs/design.mdに反映する
  - 機能要件の最新版をdocs/specification.mdに整理する
  - 画面構成と状態遷移（タイトル/ゲーム/結果）を決める
- Rabbit-TEA学習・検証
  - Rabbit-TEAの環境構築（moon/bun/vite/tailwindの整備）を行う
  - 最小サンプル（カウンタ＋キー入力）を作成する
  - 画面描画、状態更新、イベント処理の流れを整理する
- コアゲームロジック
  - 入力判定（正誤、部分一致、確定）を実装する
  - 問題文/単語の取得・シャッフル・出題順ロジックを実装する
  - スコア計算（正確率、WPM/CPM、ミス数）を定義・実装する
  - タイマー（制限時間/経過時間）を実装する
- UI実装（HTML + Tailwind）
  - タイトル画面のUIを作成する
  - ゲーム画面のUIを作成する
  - 結果画面のUIを作成する

## 主要マイルストーン（任意）
- MVP: docs/specification.md の「アプリケーションでできること」6つが全て動作する
- v0.1: 
- v1.0: 

## メモ

キーボード入力はどうやって受け取ればいいのか。

MonkeyTypeのように、入力欄をクリックして、入力を開始したらスタートしたい。

入力欄の表示について。

Monkey Typeと違って、漢字混じり文とローマ字の両方を表示する必要があるから、位置をどこで揃えるか確認する。

とりあえず、ややこしいのでひらがなで考える。例えば、単語が「したい　ことに」のとき、入力に応じて次のように変化する。

|は基準位置（画面の中央）を表す。|の左が入力済みで、|の右がこれから入力する文字。ローマ字の方はガイドを表示する。

            |したい　ことに
            |sitai kotoni

            |したい　ことに
           s|itai kotoni

          し|たい　ことに
          si|tai kotoni

          し|たい　ことに
         sit|ai kotoni

        した|い　ことに
        sita|i kotoni

      したい|　ことに
       sitai| kotoni

    したい　|ことに
      sitai |kotoni

    したい　|ことに
     sitai k|otoni

  したい　こ|とに
    sitai ko|toni

  したい　こ|とに
   sitai kot|oni

漢字とローマ字で幅が違うのはどうすればいいんだろう？

---

UIモックで分かったこと
- |カーソルは文字ではなく細い縦線で描画するとズレが少ない
- クリックで受付開始し、受付中だけカーソル表示するUXが良い
- 入力欄は別divではなく、ワード表示領域をクリック可能にする

---

画面はRabbit-TEAに移植できたので、インタラクションと、それに付随する処理をどう実装していくか。

- トップページ
  - 秒数を選択する
  - カテゴリーを選択する
  - フィルターを入力する
  - 入力でタイピングを開始する
- タイピング画面
  - タイマーに応じて時間を更新する
  - キーボード入力に応じて、打鍵数とミス数を更新する
  - 時間が0になったら、結果画面に移動する
- 結果画面
  - リザルトデータを計算して、表示する
  - グラフを表示する（TODO）
  - リトライを押したら、設定はそのままで、トップページに戻る

---

- 単語を複数表示するため、残り何個になったら不足分を補充するかの設計が必要。
- デザインについて
  - なるべくシンプルにすることを依頼
  - カード型UIや、影はAIっぽいので避ける
  - フォントは見やすいゴシック体にする

![alt text](image.png)

クリーム色で目に優しい感じになった。これで進めていこうかな。

![alt text](image-1.png)
